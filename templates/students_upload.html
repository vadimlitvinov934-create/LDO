{% extends "base.html" %}
{% block title %}Импорт студентов{% endblock %}
{% block content %}
<h1>Импорт студентов</h1>

<p>Текущих студентов в базе: <b>{{ count }}</b></p>

<h2>Загрузить CSV</h2>
<form method="post" enctype="multipart/form-data" action="{{ url_for('admin_bp.students_upload') }}" class="card">
  <p>Формат файла (UTF-8): первая строка — заголовки <code>uid,full_name</code>.</p>
  <p>Пример:</p>
  <pre class="pre">uid,full_name
1001,Иванов Иван Иванович
1002,Петров Пётр Петрович
</pre>
  <input type="file" name="file" accept=".csv" required>
  <button type="submit" class="btn primary">Импортировать</button>
</form>

<h2>Или добавить демо-студентов</h2>
<form method="post" action="{{ url_for('admin_bp.students_seed_demo') }}">
  <button type="submit" class="btn">Добавить 4 демо-записи</button>
</form>

<style>
.card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:16px;max-width:640px}
.pre{background:#f8fafc;border:1px dashed #e5e7eb;padding:10px;border-radius:8px;max-width:420px}
.btn{border:1px solid #e5e7eb;border-radius:10px;padding:10px 14px;background:#fff;cursor:pointer}
.btn.primary{background:#2563eb;color:#fff;border-color:#2563eb}
</style>
{% endblock %}
